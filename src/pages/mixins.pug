//- src/pages/mixins.pug

//- Миксин для обычной карточки
mixin productCard(item)
    if item.mod == 'spacer'
        div.cards__spacer(aria-hidden="true")
    else
        article.card(class=`card--${item.mod}`)
            img.card__pic(src=item.img, alt=item.title)
            h3.card__title= item.title
            p.card__text= item.text

//- Миксин для боковой карточки в нижнем блоке
mixin sideCard(item)
    article.card.card--side
        img.card__pic(src=item.img, alt=item.title)
        h3.card__title= item.title
        p.card__text= item.text

//- Миксин для большой центральной фичи
mixin mainFeature(item)
    div.feature
        h2.feature__title= item.title
        p= item.text
        div.feature__image
            img(src=item.img, alt=item.title)
        a.feature__more(href="#") Подробнее&gt;


mixin createGraph(axisX, axisY)
    details
        summary График
        form
            p: b Значение по оси OX:
            each item in axisX
                label
                    input(type="radio" name="quest_1" value=item.value id=item.id)
                    | #{item.text}
                br
        form
            p: b Значение по оси OY:
            each item in axisY
                label
                    input(type="checkbox" name="quest_2" value=item.value id=item.id)
                    | #{item.text}
                br
        p: input(type="button" value="Построить")

//- Универсальный миксин для Фильтра (сложная структура)
mixin createFilter()
    details
        summary Фильтр
        form
            p Бренд: 
                input(type="text" name="brand" id="brand")
            p Модель: 
                input(type="text" name="model_input" id="model_input")
            p CPU модель: 
                input(type="text" name="CPU" id="CPU")
            p Ядра: от 
                input(type="text" name="kernel" id="kernel_min")
                |  до 
                input(type="text" name="kernel" id="kernel_max")
            p Потоки: от 
                input(type="text" name="threads" id="threads_min")
                |  до 
                input(type="text" name="threads" id="threads_max")
            p Буст (ГГц): от 
                input(type="text" name="boost" id="boost_min")
                |  до 
                input(type="text" name="boost" id="boost_max")
            p RAM (ГБ): от 
                input(type="text" name="RAM" id="RAM_min")
                |  до 
                input(type="text" name="RAM" id="RAM_max")
            p Хранилище (ГБ): от 
                input(type="text" name="storage" id="storage_min")
                |  до 
                input(type="text" name="storage" id="storage_max")
            p GPU: 
                input(type="text" name="GPU" id="GPU")
            p Экран (дюймы/разрешение/Гц): 
                input(type="text" name="screen" id="screen")
            p Вес (кг): от 
                input(type="text" name="weight" id="weight_min")
                |  до 
                input(type="text" name="weight" id="weight_max")
            p Батарея (Вт⋅ч): от 
                input(type="text" name="battery" id="battery_min")
                |  до 
                input(type="text" name="battery" id="battery_max")
            p Цена: от 
                input(type="text" name="price" id="price_min")
                |  до 
                input(type="text" name="price" id="price_max")
            p Балл производительности: от 
                input(type="text" name="performance_min" id="performance")
                |  до 
                input(type="text" name="performance" id="performance_max")
            p Год: от 
                input(type="text" name="year" id="year_min")
                |  до 
                input(type="text" name="year" id="year_max")
        p: input(type="button" value="Найти")

//- Универсальный миксин для Сортировки
mixin createSort(levels)
    details
        summary Сортировка
        form
            each level, index in levels
                p
                    label(for=`task_${index+1}`)
                        | #{level.label}: 
                        select(id=`task_${index+1}`)
                            each opt, i in level.options
                                option(value=i)= opt
                    label
                        |  По убыванию? 
                        input(type="checkbox" name=`sort_desc_${index+1}` id=`yes_or_no_${index+1}`)
            p: input(type="button" value="Сортировать")

//- Универсальный миксин для Таблицы
mixin createTable(headers, items)
  //- Добавляем проверку, чтобы не было ошибки .length
  if headers && items
    table
      thead
        tr
          each header in headers
            th= header
      tbody
        each item in items
          tr
            each val in Object.values(item)
              td= val
  else
    p Данные для таблицы не загружены

//- Миксин для изображения на странице ноутбука
mixin laptopImage(item)
    figure.laptop__figure
        img.laptop__image(src=item.src, alt=item.alt)

//- Миксин для текстового блока на странице ноутбука
mixin laptopSection(item)
    section.laptop__section
        h2.laptop__heading
            if item.icon
                span.laptop__icon= item.icon
            | #{item.title}
        p.laptop__text= item.text
